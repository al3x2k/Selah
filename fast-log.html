<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>My Fast Log - Selah</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <h1>My Fast Log</h1>

  <div id="fastHistory"></div>

  <button class="back-button" onclick="location.href='index.html'">Back to Home</button>

  <script>
    function loadFastHistory() {
      const logs = JSON.parse(localStorage.getItem("fastLogs")) || [];
      const historyDiv = document.getElementById("fastHistory");

      if (logs.length === 0) {
        historyDiv.innerHTML = "<p>No completed fasts yet. Start your first fast when you're ready üíõ</p>";
        return;
      }

      // Add total count
      historyDiv.innerHTML = `<p>You‚Äôve completed <strong>${logs.length}</strong> fast${logs.length !== 1 ? "s" : ""}.</p><br>`;

      // Reverse so newest is at the top
        logs.reverse().forEach((fast, index) => {
          const start = new Date(fast.startTime).toLocaleString();
          const end = new Date(fast.endTime).toLocaleString();
          const reason = fast.reason;
          const type = formatFastType(fast.fastType);
          const status = fast.completed ? "Completed ‚úÖ" : "In Progress ‚è≥";

          const logEntry = document.createElement("div");
          logEntry.classList.add("log-entry");

          logEntry.innerHTML = `
            <h3>Fast #${logs.length - index}</h3>
            <p><strong>Type:</strong> ${type}</p>
            <p><strong>Reason:</strong> ${reason}</p>
            <p><strong>Start:</strong> ${start}</p>
            <p><strong>End:</strong> ${end}</p>
            <p><strong>Status:</strong> ${status}</p>
            <button onclick="deleteFast(${logs.length - 1 - index})" style="margin-top: 10px;">üóëÔ∏è Delete</button>
          `;

          historyDiv.appendChild(logEntry);
        });

    }

    function formatFastType(type) {
      const labels = {
        soul: "Soul Fast",
        food: "Food Fast",
        prayer: "Prayer-Focused Fast",
        worship: "Worship-Focused Fast",
        media: "Media Fast",
        custom: "Custom Fast"
      };
      return labels[type] || "Unknown Type";
    }

    // Run it on load
    loadFastHistory();

    <!-- Link to JavaScript file -->
    <script src="script.js"></script>
    
</script>
</body>
</html>
